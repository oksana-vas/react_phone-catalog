(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],Array(28).concat([function(e,t,c){},,,,,,,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var a=c(29),s=c.n(a),n=c(5),r=c(4),i=c(6),o=c(3),l=c(1),j=c.n(l),d=function(e){return e.phone="phones",e.tablet="tablets",e.accessory="accessories",e}({}),u="https://mate-academy.github.io/react_phone-catalog/_new";var b=function(e){return function(e){return fetch(u+e).then((function(e){return e.json()}))}(e)},m=function(){return b("/products.json")},O=function(e){return e.loadingProducts="Unable to load products",e.loadingPhones="Unable to load phones",e.loadingTablets="Unable to load tablets",e.loadingAccessories="Unable to load accessories",e}({}),_=c(0),h=j.a.createContext({products:[],phonesCount:"",tabletsCount:"",accessoriesCount:"",brandNewProducts:[],hotPriceProducts:[],isLoading:!1,errorMessage:"",setErrorMessage:function(){},removeError:function(){},getCategoryItems:function(){return[]}}),x=function(e){var t=e.children,c=Object(l.useState)([]),a=Object(o.a)(c,2),s=a[0],n=a[1],r=Object(l.useState)(!1),j=Object(o.a)(r,2),u=j[0],b=j[1],x=Object(l.useState)(""),p=Object(o.a)(x,2),g=p[0],N=p[1],v=function(){setTimeout((function(){N("")}),arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3)};Object(l.useEffect)((function(){b(!0),m().then(n).catch((function(){N(O.loadingProducts),v()})).finally((function(){b(!1)}))}),[]);var f=Object(l.useMemo)((function(){return Object(i.a)(s).sort((function(e,t){return t.year-e.year})).sort((function(e,t){return t.price-e.price}))}),[s]),P=Object(l.useMemo)((function(){return Object(i.a)(s).sort((function(e,t){var c=e.fullPrice-e.price;return t.fullPrice-t.price-c}))}),[s]),y=Object(l.useCallback)((function(e){return Object(i.a)(s).filter((function(t){return t.category===e}))}),[s]),C=Object(l.useCallback)((function(e){var t=y(e);return 1===t.length?"".concat(t.length," model"):"".concat(t.length," models")}),[y]),D=C(d.phone),w=C(d.tablet),S=C(d.accessory),k={products:s,phonesCount:D,tabletsCount:w,accessoriesCount:S,brandNewProducts:f,isLoading:u,errorMessage:g,setErrorMessage:N,removeError:v,hotPriceProducts:P,getCategoryItems:y};return Object(_.jsx)(h.Provider,{value:k,children:t})},p=function(){return Object(l.useContext)(h)};function g(e,t){var c=Object(l.useState)((function(){var c=localStorage.getItem(e);if(!c)return t;try{return JSON.parse(c)}catch(a){return localStorage.removeItem(e),t}})),a=Object(o.a)(c,2),s=a[0],n=a[1];return[s,function(t){localStorage.setItem(e,JSON.stringify(t)),n(t)}]}var N=j.a.createContext({cart:[],setCart:function(){},handleAddToCart:function(){},removeFromCart:function(){},increaseQuantity:function(){},decreaseQuantity:function(){}}),v=function(e){var t=e.children,c=g("cart",[]),a=Object(o.a)(c,2),s=a[0],n=a[1];var r={cart:s,setCart:n,handleAddToCart:function(e){s.find((function(t){return t.product.itemId===e.itemId}))?n(Object(i.a)(s).filter((function(t){return t.product.itemId!==e.itemId}))):n([].concat(Object(i.a)(s),[{quantity:1,product:e}]))},removeFromCart:function(e){return n(s.filter((function(t){return t.product.itemId!==e})))},increaseQuantity:function(e){var t=Object(i.a)(s),c=t.find((function(t){return t.product.itemId===e}));c&&(c.quantity+=1,n(t))},decreaseQuantity:function(e){var t=Object(i.a)(s),c=t.find((function(t){return t.product.itemId===e}));c&&(c.quantity-=1,n(t))}};return Object(_.jsx)(N.Provider,{value:r,children:t})},f=j.a.createContext({fav:[],setFav:function(){},handleAddToFav:function(){}}),P=function(e){var t=e.children,c=g("fav",[]),a=Object(o.a)(c,2),s=a[0],n=a[1];var r={fav:s,setFav:n,handleAddToFav:function(e){s.find((function(t){return t.itemId===e.itemId}))?n(Object(i.a)(s).filter((function(t){return t.itemId!==e.itemId}))):n([].concat(Object(i.a)(s),[e]))}};return Object(_.jsx)(f.Provider,{value:r,children:t})},y=c(8),C=c.n(y),D=c.p+"static/media/Logo.57e42e6a.svg",w=(c(36),function(){return Object(_.jsx)(n.c,{to:"/",children:Object(_.jsx)("img",{src:D,alt:"Logo",className:"Logo"})})}),S=(c(37),function(e){var t=e.isActive;return C()("Navbar__item",{"Navbar__item--active":t})}),k=function(){return Object(_.jsx)("nav",{className:"Navbar",children:Object(_.jsxs)("ul",{className:"Navbar__list",children:[Object(_.jsx)("li",{children:Object(_.jsx)(n.c,{to:"/",className:S,children:"Home"})}),Object(_.jsx)("li",{children:Object(_.jsx)(n.c,{to:"/phones",className:S,children:"Phones"})}),Object(_.jsx)("li",{children:Object(_.jsx)(n.c,{to:"/tablets",className:S,children:"Tablets"})}),Object(_.jsx)("li",{children:Object(_.jsx)(n.c,{to:"/accessories",className:S,children:"Accessories"})})]})})},F=(c(38),function(e){var t=e.count;return Object(_.jsx)("div",{className:"Counter",children:t})}),B=c.p+"static/media/Favourites.dbd19c03.svg",A=c.p+"static/media/Shopping_cart.1962e424.svg",I=c.p+"static/media/icon-menu.744ac0b0.svg",M=c.p+"static/media/icon-close.0594ac0e.svg",T=(c(39),c(28),function(e){var t=e.isActive;return C()("Navbar__button",{"Navbar__button--active":t})}),L=function(e){var t=e.isActive;return C()("Menu__nav-link",{"Menu__nav-link--active":t})},E=function(e){var t=e.isActive;return C()("Menu__action",{"Menu__action--active":t})},q=[{href:"/",name:"Home"},{href:"/phones",name:"Phones"},{href:"/tablets",name:"Tablets"},{href:"/accessories",name:"Accessories"}],G=function(){var e=Object(r.o)().pathname,t=Object(l.useContext)(f).fav,c=Object(l.useContext)(N).cart,a=Object(l.useState)(!1),s=Object(o.a)(a,2),i=s[0],j=s[1];return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("div",{className:"Header",id:"header",children:Object(_.jsxs)("div",{className:"Header__content",children:[Object(_.jsxs)("div",{className:"Header__logo-and-nav",children:[Object(_.jsx)("div",{className:"Header__logo",children:Object(_.jsx)(w,{})}),"/cart"!==e&&Object(_.jsx)(k,{})]}),Object(_.jsxs)("div",{className:"Header__fav-and-cart",children:["/cart"!==e&&Object(_.jsx)(n.c,{to:"/favorites",className:T,children:Object(_.jsxs)("div",{className:"Action",children:[Object(_.jsx)("img",{src:B,alt:"Favorites",className:"Action__img"}),!!t.length&&Object(_.jsx)(F,{count:t.length})]})}),Object(_.jsx)(n.c,{to:"/cart",className:T,children:Object(_.jsxs)("div",{className:"Action",children:[Object(_.jsx)("img",{src:A,alt:"Shopping cart",className:"Action__img"}),!!c.length&&Object(_.jsx)(F,{count:c.length})]})}),Object(_.jsx)("button",{type:"button","aria-label":"menu",className:"Header__menu-button",onClick:function(){return j(!0)},children:Object(_.jsx)("img",{src:I,alt:"Menu",className:"Header__menu-button-img"})})]})]})}),Object(_.jsxs)("aside",{className:C()("Menu",{"Menu--opened":i}),children:[Object(_.jsxs)("div",{className:"Menu__top-actions",children:[Object(_.jsx)("div",{className:"Menu__logo",children:Object(_.jsx)(w,{})}),Object(_.jsx)("button",{type:"button","aria-label":"menu",className:"Menu__button",onClick:function(){return j(!1)},children:Object(_.jsx)("img",{src:M,alt:"Menu",className:"Menu__img"})})]}),Object(_.jsx)("nav",{className:"Menu__nav",children:Object(_.jsx)("ul",{className:"Menu__nav-list",children:q.map((function(e){return Object(_.jsx)("li",{className:"Menu__nav-item",children:Object(_.jsx)(n.c,{to:e.href,className:L,onClick:function(){return j(!1)},children:e.name})},e.href)}))})}),Object(_.jsxs)("div",{className:"Menu__bottom-actions",children:[Object(_.jsx)(n.c,{to:"/favorites",className:E,onClick:function(){return j(!1)},children:Object(_.jsxs)("div",{className:"Action",children:[Object(_.jsx)("img",{src:B,alt:"Favorites",className:"Action__img"}),!!t.length&&Object(_.jsx)(F,{count:t.length})]})}),Object(_.jsx)(n.c,{to:"/cart",className:E,onClick:function(){return j(!1)},children:Object(_.jsxs)("div",{className:"Action",children:[Object(_.jsx)("img",{src:A,alt:"Shopping cart",className:"Action__img"}),!!c.length&&Object(_.jsx)(F,{count:c.length})]})})]})]})]})},H=(c(40),function(){return window.scrollTo({top:0,behavior:"smooth"})}),R=function(){return Object(_.jsx)("div",{className:"Footer",children:Object(_.jsx)("div",{className:"container",children:Object(_.jsxs)("div",{className:"Footer__content",children:[Object(_.jsx)("div",{className:"Footer__logo",children:Object(_.jsx)(w,{})}),Object(_.jsx)("nav",{className:"Footer__nav",children:Object(_.jsxs)("ul",{className:"Footer__nav-list",children:[Object(_.jsx)("li",{className:"Footer__nav-item",children:Object(_.jsx)("a",{href:"https://github.com",target:"_blank",rel:"noreferrer noopener",className:"Footer__nav-link",children:"Github"})}),Object(_.jsx)("li",{className:"Footer__nav-item",children:Object(_.jsx)(n.b,{to:"/contacts",className:"Footer__nav-link",children:"Contacts"})}),Object(_.jsx)("li",{className:"Footer__nav-item",children:Object(_.jsx)(n.b,{to:"/rigths",className:"Footer__nav-link",children:"Rights"})})]})}),Object(_.jsxs)("div",{className:"Footer__button",children:[Object(_.jsx)("p",{className:"Footer__button-text",children:"Back to top"}),Object(_.jsx)("button",{type:"button",className:"button button--back-to-top",onClick:H,"aria-label":"Back to top"})]})]})})})},Q=function(){return Object(_.jsxs)("div",{className:"App",children:[Object(_.jsx)(G,{}),Object(_.jsx)("div",{className:"App__main",children:Object(_.jsx)(r.b,{})}),Object(_.jsx)(R,{})]})},$=c.p+"static/media/Arrow_left.c0d01b22.svg",U=(c(41),function(){return Object(_.jsxs)(n.b,{to:"..",className:"Back",children:[Object(_.jsx)("img",{src:$,alt:"Arrow",className:"Back__icon"}),Object(_.jsx)("p",{className:"Back__text",children:"Back"})]})}),J=(c(42),function(e){var t=e.item,c=Object(l.useContext)(N),a=c.removeFromCart,s=c.increaseQuantity,r=c.decreaseQuantity,i=t.product,o=i.image,j=i.name,d=i.price,b=i.itemId,m=i.category;return Object(_.jsxs)("li",{className:"CartItem",children:[Object(_.jsxs)("div",{className:"CartItem__main-info",children:[Object(_.jsx)("button",{type:"button","aria-label":"Delete",className:"CartItem__clear","data-cy":"cartDeleteButton",onClick:function(){return a(b)}}),Object(_.jsxs)(n.b,{to:"/".concat(m,"/").concat(b),className:"CartItem__link",children:[Object(_.jsx)("div",{className:"CartItem__image-container",children:Object(_.jsx)("img",{src:"".concat(u,"/").concat(o),alt:j,className:"CartItem__image"})}),Object(_.jsx)("span",{className:"CartItem__title",children:j})]})]}),Object(_.jsxs)("div",{className:"CartItem__quan-and-price",children:[Object(_.jsxs)("div",{className:"CartItem__quantity-area",children:[Object(_.jsx)("button",{type:"button","aria-label":"Remove",className:"button button--minus",disabled:1===t.quantity,onClick:function(){return r(b)}}),Object(_.jsx)("p",{className:"CartItem__quantity",children:t.quantity||1}),Object(_.jsx)("button",{type:"button","aria-label":"Add",className:"button button--plus",onClick:function(){return s(b)}})]}),Object(_.jsxs)("span",{className:"CartItem__price",children:["$",d]})]})]})}),W=(c(43),function(){var e=Object(l.useContext)(N).cart,t=Object(l.useState)(!1),c=Object(o.a)(t,2),a=c[0],s=c[1],n=e.map((function(e){return e.quantity*e.product.price})).reduce((function(e,t){return e+t}),0),r=e.reduce((function(e,t){return e+t.quantity}),0);return Object(_.jsx)("div",{className:"CartPage",children:Object(_.jsx)("div",{className:"container",children:Object(_.jsxs)("div",{className:"CartPage__content",children:[Object(_.jsxs)("div",{className:"CartPage__top",children:[Object(_.jsx)(U,{}),Object(_.jsx)("h2",{className:"CartPage__title",children:"Cart"})]}),!e.length&&Object(_.jsx)("span",{className:"CartPage__is-empty",children:"Your cart is empty"}),Object(_.jsxs)("div",{className:"CartPage__main",children:[Object(_.jsx)("ul",{className:"CartPage__list",children:e.map((function(e){return Object(_.jsx)(J,{item:e},e.product.itemId)}))}),!!e.length&&Object(_.jsxs)("div",{className:"CartPage__checkout",children:[Object(_.jsxs)("div",{className:"CartPage__checkout-main",children:[Object(_.jsxs)("div",{className:"CartPage__checkout-info",children:[Object(_.jsxs)("span",{className:"CartPage__checkout-sum",children:["$",n]}),Object(_.jsx)("p",{className:"CartPage__checkout-text","data-cy":"productQauntity",children:"Total for ".concat(r," item").concat(1===r?"":"s")})]}),Object(_.jsx)("div",{className:"Decorative-line"}),Object(_.jsx)("button",{type:"button",className:"CartPage__checkout-button",onClick:function(){s(!0),setTimeout((function(){s(!1)}),3e3)},children:"Checkout"})]}),a&&Object(_.jsx)("div",{className:"CartPage__checkout-message",children:"We are sorry, but this feature is not implemented yet"})]})]})]})})})}),X=c.p+"static/media/Home.d4c29e4f.svg",Y=(c(44),function(e){var t=e.page;return Object(_.jsxs)("div",{className:"Breadcrumbs","data-cy":"breadCrumbs",children:[Object(_.jsx)(n.b,{to:"/",className:"Breadcrumbs__home",children:Object(_.jsx)("img",{src:X,alt:"Home",className:"Breadcrumbs__home-img"})}),Object(_.jsx)("div",{className:"Breadcrumbs__arrow"}),Object(_.jsx)(n.b,{to:"/".concat(t[0]),className:C()("Breadcrumbs__page-title",{"Breadcrumbs__page-title--dark":t.length>1}),children:t[0]}),t.length>1&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("div",{className:"Breadcrumbs__arrow"}),Object(_.jsx)("p",{className:"Breadcrumbs__product-title",children:t[1]})]})]})}),z=c.p+"static/media/Search.eb670dd9.svg",Z=(c(45),function(){return Object(_.jsxs)("section",{className:"NoSearchResults",children:[Object(_.jsx)("img",{src:z,alt:"Search",className:"NoSearchResults__image"}),Object(_.jsx)("h2",{className:"NoSearchResults__title",children:"Oops, no results found"})]})}),K=(c(46),function(e){var t=e.newProduct,c=e.sliderCard,a=void 0===c?"":c,s=Object(l.useContext)(N),r=s.cart,i=s.handleAddToCart,o=Object(l.useContext)(f),j=o.fav,d=o.handleAddToFav,b=r.find((function(e){return e.product.itemId===t.itemId})),m=j.find((function(e){return e.itemId===t.itemId})),O=t.image,h=t.name,x=t.category,p=t.itemId,g=t.price,v=t.fullPrice,P=t.screen,y=t.capacity,D=t.ram;return Object(_.jsxs)("li",{className:C()("ProductCart",{"ProductCart--slider":a}),children:[Object(_.jsxs)(n.b,{to:"/".concat(x,"/").concat(p),className:"ProductCart__link",children:[Object(_.jsx)("div",{className:"ProductCart__image-container",children:Object(_.jsx)("img",{src:"".concat(u,"/").concat(O),alt:h,className:"ProductCart__image"})}),Object(_.jsxs)("div",{className:"ProductCart__info",children:[Object(_.jsx)("h2",{className:"ProductCart__name",children:h}),Object(_.jsxs)("div",{className:"ProductCart__prices",children:[Object(_.jsxs)("span",{className:"ProductCart__new-price",children:["$",g]}),Object(_.jsxs)("span",{className:"ProductCart__full-price",children:["$",v]})]}),Object(_.jsx)("div",{className:"Decorative-line"})]}),Object(_.jsxs)("ul",{className:"ProductCart__features",children:[Object(_.jsxs)("li",{className:"ProductCart__feature",children:[Object(_.jsx)("span",{className:"ProductCart__feature-name",children:"Screen"}),Object(_.jsx)("span",{className:"ProductCart__feature-value",children:P})]}),Object(_.jsxs)("li",{className:"ProductCart__feature",children:[Object(_.jsx)("span",{className:"ProductCart__feature-name",children:"Capacity"}),Object(_.jsx)("span",{className:"ProductCart__feature-value",children:y.replace("GB"," GB")})]}),Object(_.jsxs)("li",{className:"ProductCart__feature",children:[Object(_.jsx)("span",{className:"ProductCart__feature-name",children:"RAM"}),Object(_.jsx)("span",{className:"ProductCart__feature-value",children:D.replace("GB"," GB")})]})]})]}),Object(_.jsxs)("div",{className:"ProductCart__buttons",children:[Object(_.jsx)("button",{type:"button",className:C()("button__add-to-cart",{"button__added-to-cart":b}),onClick:function(){return i(t)},children:b?"Added to cart":"Add to cart"}),Object(_.jsx)("button",{type:"button","aria-label":"Favorite","data-cy":"addToFavorite",className:C()("button button--fav",{"button--fav-active":m}),onClick:function(){return d(t)}})]})]})}),V=(c(47),function(e){var t=e.products;return Object(_.jsx)("div",{className:"ProductsList","data-cy":"productList",children:t.map((function(e){return Object(_.jsx)(K,{newProduct:e},e.itemId)}))})}),ee=c(30),te=c.n(ee);function ce(e,t){var c=new URLSearchParams(e.toString());return Object.entries(t).forEach((function(e){var t=Object(o.a)(e,2),a=t[0],s=t[1];null===s?c.delete(a):Array.isArray(s)?(c.delete(a),s.forEach((function(e){c.append(a,e)}))):c.set(a,s)})),c.toString()}c(49);var ae=function(){var e=Object(n.d)(),t=Object(o.a)(e,2),c=t[0],a=t[1],s=Object(l.useState)(c.get("query")||""),i=Object(o.a)(s,2),j=i[0],d=i[1],u=Object(r.o)().pathname;Object(l.useEffect)((function(){var e=c.get("query")||"";d(e),a(ce(c,{query:e||null}))}),[c,a]);var b=Object(l.useMemo)((function(){return te()(a,1e3)}),[a]),m=function(){d(""),a(ce(c,{query:null}))};return Object(_.jsxs)("div",{className:"Search",children:[Object(_.jsx)("input",{type:"text",className:"Search__input",placeholder:"Search in ".concat(u.slice(1),"..."),value:j,onChange:function(e){e.target.value?(d(e.target.value),b(ce(c,{query:e.target.value,page:"1"}))):m()}}),j?Object(_.jsx)("button",{type:"button","data-cy":"searchDelete","aria-label":"Delete query",className:"Search__clear",onClick:m}):Object(_.jsx)("div",{className:"Search__icon"})]})},se=(c(50),function(){var e=Object(n.d)(),t=Object(o.a)(e,1)[0],c=Object(l.useContext)(f).fav,a=t.get("query")||"",s=Object(l.useCallback)((function(){var e=Object(i.a)(c);return a?e.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())})):e}),[c,a])();return Object(_.jsxs)("div",{className:"Favorites",children:[!!s.length&&Object(_.jsx)("div",{className:"CategoryPage__search",children:Object(_.jsx)(ae,{})}),Object(_.jsx)("div",{className:"container",children:Object(_.jsxs)("div",{className:"Favorites__content",children:[Object(_.jsx)(Y,{page:["Favorites"]}),Object(_.jsxs)("div",{className:"Favorites__main-info",children:[Object(_.jsx)("h2",{className:"Favorites__title",children:"Favorites"}),Object(_.jsx)("span",{className:"Favorites__models-count",children:a?"".concat(s.length," result").concat(1===s.length?"":"s"):"".concat(s.length," item").concat(1===s.length?"":"s")})]}),!s.length&&a&&Object(_.jsx)(Z,{}),Object(_.jsx)(V,{products:s})]})})]})}),ne=(c(51),function(){return Object(_.jsx)("div",{className:"Loader",children:Object(_.jsx)("div",{className:"Loader__content"})})}),re=c(16),ie=c(25),oe=(c(52),[{src:"/phones"},{src:"/tablets"},{src:"/accessories"}]),le=function(){var e=Object(l.useState)(0),t=Object(o.a)(e,2),c=t[0],a=t[1],s=oe.length-1,r=100*c,i=Object(l.useCallback)((function(){a(c===s?0:function(e){return e+1})}),[c,s]),j=Object(l.useCallback)((function(){a(0===c?s:function(e){return e-1})}),[c,s]);Object(l.useEffect)((function(){var e=setInterval(i,5e3);return function(){return clearInterval(e)}}),[c,i]);var d=Object(ie.a)({onSwipedLeft:function(){return i()},onSwipedRight:function(){return j()},swipeDuration:500,preventScrollOnSwipe:!0,trackMouse:!0});return Object(_.jsx)("div",Object(re.a)(Object(re.a)({},d),{},{children:Object(_.jsx)("div",{className:"Slider",children:Object(_.jsxs)("div",{className:"Slider__content",children:[Object(_.jsxs)("div",{className:"Slider__main",children:[Object(_.jsx)("button",{type:"button","aria-label":"Previous",className:"button button--slider button--slider-back",onClick:j}),Object(_.jsx)("ul",{className:"Slider__list",children:oe.map((function(e,t){return Object(_.jsx)("li",{style:{transform:"translateX(-".concat(r,"%)"),transition:"transform ".concat(1500,"ms ease")},className:"Slider__list-item",children:Object(_.jsx)(n.b,{to:e.src,className:"Slider__link Slider__link--".concat(t)})},e.src)}))}),Object(_.jsx)("button",{type:"button","aria-label":"Next",className:"button button--slider button--slider-forward",onClick:i})]}),Object(_.jsx)("div",{className:"Slider__dots",children:oe.map((function(e,t){return Object(_.jsx)("div",{className:C()("Slider__dot",{"Slider__dot--active":t===c})},e.src)}))})]})})}))},je=(c(53),function(e){var t=e.title,c=e.products,a=Object(l.useState)(0),s=Object(o.a)(a,2),n=s[0],r=s[1],i=288*n,j=c.length-1,d=Object(l.useCallback)((function(){r(n===j?0:function(e){return e+1})}),[n,j]),u=Object(l.useCallback)((function(){var e=n-1;r(e<0?0:e)}),[n]);return Object(_.jsxs)("div",{className:"ProductsSlider",children:[Object(_.jsxs)("div",{className:"ProductsSlider__title-and-buttons",children:[Object(_.jsx)("h2",{className:"ProductsSlider__title",children:t}),Object(_.jsxs)("div",{className:"ProductsSlider__buttons",children:[Object(_.jsx)("button",{type:"button","aria-label":"Previous products",className:"button button--prev",disabled:0===n,onClick:u}),Object(_.jsx)("button",{type:"button","aria-label":"Next products",className:"button button--next",onClick:d})]})]}),Object(_.jsx)("div",{className:"ProductsSlider__cards-container","data-cy":"cardsContainer",children:c.map((function(e){return Object(_.jsx)("div",{style:{width:1136,transform:"translateX(-".concat(i,"px)"),transition:"transform ".concat(1e3,"ms ease")},children:Object(_.jsx)(K,{newProduct:e,sliderCard:"isSliderCard"})},e.id)}))})]})}),de=function(){var e=p().hotPriceProducts;return Object(_.jsx)("div",{className:"HotPrices",children:Object(_.jsx)("div",{className:"container",children:Object(_.jsx)(je,{title:"Hot prices",products:e})})})},ue=(c(54),c.p+"static/media/phones.d59e015a.png"),be=c.p+"static/media/tablets.c198526a.png",me=c.p+"static/media/accessories.b914f412.png",Oe=function(){var e=p(),t=e.phonesCount,c=e.tabletsCount,a=e.accessoriesCount;return Object(_.jsx)("div",{className:"ShopByCategory",children:Object(_.jsx)("div",{className:"container",children:Object(_.jsxs)("div",{className:"ShopByCategory__content",children:[Object(_.jsx)("h2",{className:"ShopByCategory__title",children:"Shop by category"}),Object(_.jsxs)("div",{className:"ShopByCategory__categories","data-cy":"categoryLinksContainer",children:[Object(_.jsx)("div",{className:"ShopByCategory__category",children:Object(_.jsxs)(n.b,{to:"/phones",className:"ShopByCategory__category-content",children:[Object(_.jsx)("img",{src:ue,alt:"Mobile Phones",className:"ShopByCategory__category-image"}),Object(_.jsxs)("div",{className:"ShopByCategory__category-info",children:[Object(_.jsx)("h3",{className:"ShopByCategory__category-title",children:"Mobile phones"}),Object(_.jsx)("div",{className:"ShopByCategory__category-count",children:t})]})]})}),Object(_.jsx)("div",{className:"ShopByCategory__category",children:Object(_.jsxs)(n.b,{to:"/tablets",className:"ShopByCategory__category-content",children:[Object(_.jsx)("img",{src:be,alt:"Tablets",className:"ShopByCategory__category-image"}),Object(_.jsxs)("div",{className:"ShopByCategory__category-info",children:[Object(_.jsx)("h3",{className:"ShopByCategory__category-title",children:"Tablets"}),Object(_.jsx)("div",{className:"ShopByCategory__category-count",children:c})]})]})}),Object(_.jsx)("div",{className:"ShopByCategory__category",children:Object(_.jsxs)(n.b,{to:"/accessories",className:"ShopByCategory__category-content",children:[Object(_.jsx)("img",{src:me,alt:"Accessories",className:"ShopByCategory__category-image"}),Object(_.jsxs)("div",{className:"ShopByCategory__category-info",children:[Object(_.jsx)("h3",{className:"ShopByCategory__category-title",children:"Accessories"}),Object(_.jsx)("div",{className:"ShopByCategory__category-count",children:a})]})]})})]})]})})})},_e=function(){var e=p().brandNewProducts;return Object(_.jsx)("div",{className:"BrandNew",children:Object(_.jsx)("div",{className:"container",children:Object(_.jsx)(je,{title:"Brand new models",products:e})})})},he=(c(55),function(){var e=p(),t=e.isLoading,c=e.errorMessage;return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("div",{className:"HomePage",children:[t&&!c&&Object(_.jsx)(ne,{}),c===O.loadingProducts?Object(_.jsx)("div",{className:"ErrorMessage",children:c}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("div",{className:"HomePage__top",children:[Object(_.jsx)("h1",{className:"HomePage__title",children:"Welcome to Nice Gadgets store!"}),Object(_.jsx)("div",{className:"HomePage__slider",children:Object(_.jsx)(le,{})})]}),Object(_.jsx)(de,{}),Object(_.jsx)(Oe,{}),Object(_.jsx)(_e,{})]})]})})});c(56);function xe(e,t){for(var c=[],a=e;a<=t;a+=1)c.push(a);return c}var pe=function(e){var t=e.pages,c=Object(n.d)(),a=Object(o.a)(c,2),s=a[0],r=a[1],j=+(s.get("page")||1),d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=arguments.length>2?arguments[2]:void 0;return Object(l.useMemo)((function(){if(t+5>=e)return xe(1,e);var a=Math.max(c-t,1),s=Math.min(c+t,e),n=a>2,r=s<e-2,o=1,l=e;if(!n&&r){var j=xe(1,3+2*t);return[].concat(Object(i.a)(j),["DOTS",e])}if(n&&!r){var d=xe(e-(3+2*t)+1,e);return[o,"DOTS"].concat(Object(i.a)(d))}if(n&&r){var u=xe(a,s);return[o,"DOTS"].concat(Object(i.a)(u),["DOTS",l])}return xe(1,e)}),[e,t,c])}(t,1,j),u=Object(l.useCallback)((function(){var e=+(s.get("page")||1);r(ce(s,{page:(e-1).toString()}))}),[s,r]),b=Object(l.useCallback)((function(){var e=+(s.get("page")||1);r(ce(s,{page:(e+1).toString()}))}),[s,r]);return Object(_.jsxs)("div",{className:"Pagination","data-cy":"pagination",children:[Object(_.jsx)("button",{type:"button","data-cy":"paginationLeft","aria-label":"Prev page",className:"button button--prev",disabled:1===j,onClick:u}),Object(_.jsx)("ul",{className:"Pagination__list",children:d.map((function(e){return"DOTS"===e?Object(_.jsx)("li",{className:"Pagination__item",children:"..."},e):Object(_.jsx)(n.b,{to:{search:ce(s,{page:e.toString()}).toString()},className:C()("Pagination__link",{"Pagination__link--active":j===e}),children:Object(_.jsx)("li",{className:C()("Pagination__item button",{"Pagination__item--active":j===e}),children:e})},e)}))}),Object(_.jsx)("button",{type:"button","aria-label":"Next page","data-cy":"paginationRight",className:"button button--next",disabled:j===d[d.length-1],onClick:b})]})},ge={Newest:"age",Alphabetically:"name",Cheapest:"price"},Ne=["4","8","16","All"],ve={black:"#202020",coral:"#e4664f",gold:"#fbd7bd",green:"#ade1cd",midnightgreen:"#4e5850",purple:"#d1cddb",red:"#ba0c2f",rosegold:"#fddcd7",silver:"#ebebe3",spacegray:"#5f5f5f",white:"#f9f6ef",yellow:"#ffe680"},fe=(c(57),function(e){var t=e.category;return Object(_.jsx)("span",{className:"NoResults",children:"".concat(t," not found")})}),Pe=function(){var e=Object(n.d)(),t=Object(o.a)(e,1)[0],c=p(),a=c.phonesCount,s=c.setErrorMessage,r=c.removeError,j=Object(l.useState)([]),u=Object(o.a)(j,2),b=u[0],h=u[1],x=Object(l.useState)(!1),g=Object(o.a)(x,2),N=g[0],v=g[1],f=Object(l.useState)(null),P=Object(o.a)(f,2),y=P[0],D=P[1],w=+(t.get("page")||1),S=t.get("perPage")||8,k=t.get("sort")||"age",F=t.get("query")||"";Object(l.useEffect)((function(){v(!0),m().then((function(e){return Object(i.a)(e).filter((function(e){return e.category===d.phone}))})).then(h).catch((function(){s(O.loadingPhones),r()})).finally((function(){v(!1)}))}),[s,r]);var B=Object(l.useCallback)((function(){var e=Object(i.a)(b);switch(k){case ge.Alphabetically:e=e.sort((function(e,t){return e.name.localeCompare(t.name)}));break;case ge.Cheapest:e=e.sort((function(e,t){return e.price-t.price}));break;case ge.Newest:e=e.sort((function(e,t){return t.year-e.year})).sort((function(e,t){return t.price-e.price}));break;default:return e}return F&&(e=e.filter((function(e){return e.name.toLowerCase().includes(F.toLowerCase())}))),e}),[b,F,k])(),A=Math.ceil(B.length/+S)||1,I=(w-1)*+S,M=w*+S<B.length?w*+S:B.length,T=Object(l.useCallback)((function(e){D(e===y?null:e)}),[y]),L=Object(l.useCallback)((function(){D(null)}),[]),E=Object(l.useCallback)((function(){var e=t.get("sort");return Object.keys(ge).find((function(t){return ge[t]===e}))||"Newest"}),[t]);return Object(_.jsxs)("div",{className:"CategoryPage",children:[Object(_.jsx)("div",{className:"CategoryPage__search",children:Object(_.jsx)(ae,{})}),Object(_.jsx)("div",{className:"container",children:Object(_.jsxs)("div",{className:"CategoryPage__content",children:[Object(_.jsx)(Y,{page:["Phones"]}),Object(_.jsxs)("div",{className:"CategoryPage__main-info",children:[Object(_.jsx)("h1",{className:"CategoryPage__title",children:"Mobile phones"}),Object(_.jsx)("span",{className:"CategoryPage__models-count",children:F?"".concat(B.length," result").concat(1===B.length?"":"s"):"".concat(a)})]}),N&&Object(_.jsx)(ne,{}),!b.length&&!N&&Object(_.jsx)(fe,{category:"Phones"}),!B.length&&!N&&!!F&&Object(_.jsx)(Z,{}),!!B.length&&!N&&Object(_.jsxs)("div",{className:"CategoryPage__dropdowns",children:[Object(_.jsxs)("div",{className:"Dropdown Dropdown--sort",children:[Object(_.jsx)("p",{className:"Dropdown__title",children:"Sort by"}),Object(_.jsxs)("div",{className:"Dropdown__content",children:[Object(_.jsxs)("button",{type:"button",className:"button button--dropdown",onClick:function(){return T("sort")},onBlur:L,children:[Object(_.jsx)("p",{className:"Dropdown__text",children:E()}),Object(_.jsx)("div",{className:C()("Dropdown__icon",{"Dropdown__icon--active":"sort"===y})})]}),Object(_.jsx)("ul",{className:C()("Dropdown__list",{"Dropdown__list--opened":"sort"===y}),children:Object.entries(ge).map((function(e){var c=Object(o.a)(e,2),a=c[0],s=c[1];return Object(_.jsx)("div",{className:"Dropdown__item",children:Object(_.jsx)(n.b,{to:{search:ce(t,{sort:s,page:"1"}).toString()},className:"Dropdown__link",children:a})},s)}))})]})]}),Object(_.jsxs)("div",{className:"Dropdown Dropdown--items",children:[Object(_.jsx)("p",{className:"Dropdown__title",children:"Items on page"}),Object(_.jsxs)("div",{className:"Dropdown__content",children:[Object(_.jsxs)("button",{type:"button",className:"button button--dropdown",onClick:function(){return T("perPage")},onBlur:L,children:[Object(_.jsx)("p",{className:"button--dropdown-text",children:S.toString()}),Object(_.jsx)("div",{className:C()("Dropdown__icon",{"Dropdown__icon--active":"perPage"===y})})]}),Object(_.jsx)("ul",{className:C()("Dropdown__list",{"Dropdown__list--opened":"perPage"===y}),children:Ne.map((function(e){return Object(_.jsx)("div",{className:"Dropdown__item",children:Object(_.jsx)(n.b,{to:{search:ce(t,{perPage:e,page:"1"}).toString()},className:"Dropdown__link",children:e})},e)}))})]})]})]}),!N&&!!B.length&&Object(_.jsx)(V,{products:B.slice(I,M)}),A>1&&"All"!==S&&Object(_.jsx)(pe,{pages:A})]})})]})},ye=function(){return Object(_.jsx)("span",{className:"ProductNotFound",children:"Oops, product was not found"})},Ce=(c(58),function(){var e=Object(r.o)().pathname,t=e.slice(1).split("/")[0],c=Object(r.s)().productId,a=Object(l.useState)(),s=Object(o.a)(a,2),i=s[0],j=s[1],d=Object(l.useState)(!1),m=Object(o.a)(d,2),O=m[0],x=m[1],p=Object(l.useState)(""),g=Object(o.a)(p,2),v=g[0],P=g[1],y=Object(l.useContext)(N),D=y.cart,w=y.handleAddToCart,S=Object(l.useContext)(f),k=S.fav,F=S.handleAddToFav,B=Object(l.useContext)(h),A=B.products,I=B.hotPriceProducts,M=Object(l.useMemo)((function(){return(null===i||void 0===i?void 0:i.images)||[]}),[i]),T=Object(l.useMemo)((function(){return A.find((function(e){return e.itemId===c}))}),[c,A]);Object(l.useEffect)((function(){var e;c&&(x(!0),(e=c,b("/products/".concat(e,".json"))).then(j).catch((function(){})).finally((function(){x(!1)})))}),[c]),Object(l.useEffect)((function(){P(M[0])}),[M]);var L=D.some((function(e){return e.product.itemId===c})),E=k.some((function(e){return e.itemId===c})),q=function(e){var t=M.findIndex((function(e){return e===v}));P("next"===e?M[t+1]||M[0]:M[t-1]||M[M.length-1])},G=Object(ie.a)({onSwipedLeft:function(){return q("next")},onSwipedRight:function(){return q("prev")},swipeDuration:500,preventScrollOnSwipe:!0,trackMouse:!0});return Object(_.jsx)("div",{className:"ProductDetailsPage",children:Object(_.jsxs)("div",{className:"container",children:[O&&Object(_.jsx)(ne,{}),!i&&!O&&Object(_.jsx)(ye,{}),i&&!O&&T&&Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("div",{className:"ProductDetailsPage__content",children:[Object(_.jsxs)("section",{className:"ProductDetailsPage__section",children:[Object(_.jsxs)("div",{className:"ProductDetailsPage__top",children:[Object(_.jsx)(Y,{page:[t,i.name.replace("GB"," GB")]}),Object(_.jsxs)("div",{className:"ProductDetailsPage__back-and-title",children:[Object(_.jsx)(U,{}),Object(_.jsx)("h2",{className:"ProductDetailsPage__product-title",children:i.name.replace("GB"," GB")})]})]}),Object(_.jsxs)("div",{className:"ProductDetailsPage__images",children:[Object(_.jsx)("ul",{className:"ProductDetailsPage__images-list",children:i.images.map((function(t){return Object(_.jsx)("li",{className:C()("ProductDetailsPage__item",{"ProductDetailsPage__item--active":v===t}),children:Object(_.jsx)(n.b,{to:e,className:"ProductDetailsPage__image-link",onClick:function(){P(t)},children:Object(_.jsx)("img",{src:"".concat(u,"/").concat(t),alt:t,className:"ProductDetailsPage__image"})})},t)}))}),Object(_.jsx)("div",Object(re.a)(Object(re.a)({},G),{},{children:Object(_.jsx)("div",{className:"ProductDetailsPage__main-image",children:Object(_.jsx)("img",{src:"".concat(u,"/").concat(v),alt:v,className:"ProductDetailsPage__main-image-selected"})})}))]}),Object(_.jsxs)("div",{className:"ProductDetailsPage__main-info",children:[Object(_.jsxs)("div",{className:"ProductDetailsPage__product-options",children:[Object(_.jsxs)("div",{className:"ProductDetailsPage__colors-and-id",children:[Object(_.jsx)("p",{className:"ProductDetailsPage__colors-text",children:"Available colors"}),Object(_.jsx)("ul",{className:"ProductDetailsPage__colors",children:i.colorsAvailable.map((function(t){return Object(_.jsx)("li",{className:C()("ProductDetailsPage__color",{"ProductDetailsPage__color--selected":i.color===t}),children:Object(_.jsx)(n.b,{to:e.replace(i.color,t),className:"ProductDetailsPage__color-link",children:Object(_.jsx)("span",{className:"ProductDetailsPage__color-circle",style:{backgroundColor:ve[t]}})})},t)}))})]}),Object(_.jsx)("div",{className:"Decorative-line"}),Object(_.jsxs)("div",{className:"ProductDetailsPage__capacity-info",children:[Object(_.jsx)("p",{className:"ProductDetailsPage__capacity-text",children:"Select capacity"}),Object(_.jsx)("ul",{className:"ProductDetailsPage__capacity-list",children:i.capacityAvailable.map((function(t){return Object(_.jsx)("li",{className:"ProductDetailsPage__capacity-item",children:Object(_.jsx)(n.b,{to:e.replace(i.capacity.toLowerCase(),t.toLowerCase()),className:C()("ProductDetailsPage__capacity",{"ProductDetailsPage__capacity--selected":i.capacity===t}),children:t.replace("GB"," GB")})},t)}))})]}),Object(_.jsx)("div",{className:"Decorative-line"})]}),Object(_.jsxs)("div",{className:"ProductDetailsPage__price-and-buttons",children:[Object(_.jsxs)("div",{className:"ProductDetailsPage__prices",children:[Object(_.jsxs)("span",{className:"ProductDetailsPage__price-discount",children:["$",i.priceDiscount]}),Object(_.jsxs)("span",{className:"ProductDetailsPage__price-full",children:["$",i.priceRegular]})]}),Object(_.jsxs)("div",{className:"ProductDetailsPage__actions",children:[Object(_.jsx)("button",{type:"button",className:C()("button__add-to-cart",{"button__added-to-cart":L}),onClick:function(){return w(T)},children:L?"Added to cart":"Add to cart"}),Object(_.jsx)("button",{type:"button","aria-label":"Like","data-cy":"addToFavorite",className:C()("button button--fav",{"button--fav-active":E}),onClick:function(){return F(T)}})]})]}),Object(_.jsx)("div",{className:"ProductDetailsPage__features Feature",children:Object(_.jsxs)("ul",{className:"Feature__list",children:[Object(_.jsxs)("li",{className:"Feature__item",children:[Object(_.jsx)("p",{className:"Feature__name",children:"Screen"}),Object(_.jsx)("p",{className:"Feature__value",children:i.screen})]}),Object(_.jsxs)("li",{className:"Feature__item",children:[Object(_.jsx)("p",{className:"Feature__name",children:"Resolution"}),Object(_.jsx)("p",{className:"Feature__value",children:i.resolution.replace("\u0445"," \u0445 ")})]}),Object(_.jsxs)("li",{className:"Feature__item",children:[Object(_.jsx)("p",{className:"Feature__name",children:"Processor"}),Object(_.jsx)("p",{className:"Feature__value",children:i.processor})]}),Object(_.jsxs)("li",{className:"Feature__item",children:[Object(_.jsx)("p",{className:"Feature__name",children:"RAM"}),Object(_.jsx)("p",{className:"Feature__value",children:i.ram.replace("GB"," GB")})]})]})})]})]}),Object(_.jsxs)("section",{className:"ProductDetailsPage__section",children:[Object(_.jsxs)("article",{className:"ProductDetailsPage__section-content About",children:[Object(_.jsxs)("div",{className:"ProductDetailsPage__section-top",children:[Object(_.jsx)("h3",{className:"ProductDetailsPage__section-title",children:"About"}),Object(_.jsx)("div",{className:"Decorative-line"})]}),Object(_.jsx)("div",{className:"Description",children:Object(_.jsx)("ul",{className:"Description__list",children:i.description.map((function(e){return Object(_.jsxs)("li",{className:"Description__item",children:[Object(_.jsx)("h4",{className:"Description__title",children:e.title}),Object(_.jsx)("p",{className:"Description__text",children:e.text})]})}))})})]}),Object(_.jsxs)("article",{className:"ProductDetailsPage__section-content TechSpecs",children:[Object(_.jsxs)("div",{className:"ProductDetailsPage__section-top",children:[Object(_.jsx)("h3",{className:"ProductDetailsPage__section-title",children:"Tech specs"}),Object(_.jsx)("div",{className:"Decorative-line"})]}),Object(_.jsxs)("ul",{className:"Feature__list",children:[Object(_.jsxs)("li",{className:"Feature__item",children:[Object(_.jsx)("p",{className:"Feature__name",children:"Screen"}),Object(_.jsx)("p",{className:"Feature__value",children:i.screen})]}),Object(_.jsxs)("li",{className:"Feature__item",children:[Object(_.jsx)("p",{className:"Feature__name",children:"Resolution"}),Object(_.jsx)("p",{className:"Feature__value",children:i.resolution.replace("\u0445"," \u0445 ")})]}),Object(_.jsxs)("li",{className:"Feature__item",children:[Object(_.jsx)("p",{className:"Feature__name",children:"Processor"}),Object(_.jsx)("p",{className:"Feature__value",children:i.processor})]}),Object(_.jsxs)("li",{className:"Feature__item",children:[Object(_.jsx)("p",{className:"Feature__name",children:"RAM"}),Object(_.jsx)("p",{className:"Feature__value",children:i.ram.replace("GB"," GB")})]}),Object(_.jsxs)("li",{className:"Feature__item",children:[Object(_.jsx)("p",{className:"Feature__name",children:"Built in memory"}),Object(_.jsx)("p",{className:"Feature__value",children:i.capacity.replace("GB"," GB")})]}),Object(_.jsxs)("li",{className:"Feature__item",children:[Object(_.jsx)("p",{className:"Feature__name",children:"Camera"}),Object(_.jsx)("p",{className:"Feature__value",children:i.camera})]}),Object(_.jsxs)("li",{className:"Feature__item",children:[Object(_.jsx)("p",{className:"Feature__name",children:"Zoom"}),Object(_.jsx)("p",{className:"Feature__value",children:i.zoom})]}),Object(_.jsxs)("li",{className:"Feature__item",children:[Object(_.jsx)("p",{className:"Feature__name",children:"Cell"}),Object(_.jsx)("p",{className:"Feature__value",children:i.cell.join(", ")})]})]})]})]}),Object(_.jsx)("section",{className:"ProductDetailsPage__section",children:Object(_.jsx)("div",{className:"ProductDetailsPage__section-slider",children:Object(_.jsx)(je,{title:"You may also like",products:I})})})]})})]})})}),De=function(){var e=Object(n.d)(),t=Object(o.a)(e,1)[0],c=p(),a=c.tabletsCount,s=c.setErrorMessage,r=c.removeError,j=Object(l.useState)([]),u=Object(o.a)(j,2),b=u[0],h=u[1],x=Object(l.useState)(!1),g=Object(o.a)(x,2),N=g[0],v=g[1],f=Object(l.useState)(null),P=Object(o.a)(f,2),y=P[0],D=P[1],w=+(t.get("page")||1),S=t.get("perPage")||8,k=t.get("sort")||"age",F=t.get("query")||"";Object(l.useEffect)((function(){v(!0),m().then((function(e){return Object(i.a)(e).filter((function(e){return e.category===d.tablet}))})).then(h).catch((function(){s(O.loadingTablets),r()})).finally((function(){v(!1)}))}),[s,r]);var B=Object(l.useCallback)((function(){var e=Object(i.a)(b);switch(k){case ge.Alphabetically:e=e.sort((function(e,t){return e.name.localeCompare(t.name)}));break;case ge.Cheapest:e=e.sort((function(e,t){return e.price-t.price}));break;case ge.Newest:e=e.sort((function(e,t){return t.year-e.year})).sort((function(e,t){return t.price-e.price}));break;default:return e}return F&&(e=e.filter((function(e){return e.name.toLowerCase().includes(F.toLowerCase())}))),e}),[b,F,k])(),A=Math.ceil(B.length/+S)||1,I=(w-1)*+S,M=w*+S<B.length?w*+S:B.length,T=Object(l.useCallback)((function(e){D(e===y?null:e)}),[y]),L=Object(l.useCallback)((function(){D(null)}),[]),E=Object(l.useCallback)((function(){var e=t.get("sort");return Object.keys(ge).find((function(t){return ge[t]===e}))||"Newest"}),[t]);return Object(_.jsx)("div",{className:"CategoryPage",children:Object(_.jsx)("div",{className:"container",children:Object(_.jsxs)("div",{className:"CategoryPage__content",children:[Object(_.jsx)(Y,{page:["Tablets"]}),Object(_.jsxs)("div",{className:"CategoryPage__main-info",children:[Object(_.jsx)("h1",{className:"CategoryPage__title",children:"Tablets"}),Object(_.jsx)("span",{className:"CategoryPage__models-count",children:F?"".concat(B.length," result").concat(1===B.length?"":"s"):"".concat(a)})]}),N&&Object(_.jsx)(ne,{}),!b.length&&!N&&Object(_.jsx)(fe,{category:"Tablets"}),!B.length&&!N&&!!F&&Object(_.jsx)(Z,{}),!!B.length&&Object(_.jsxs)("div",{className:"CategoryPage__dropdowns",children:[Object(_.jsxs)("div",{className:"Dropdown",children:[Object(_.jsx)("p",{className:"Dropdown__title",children:"Sort by"}),Object(_.jsxs)("div",{className:"Dropdown__content",children:[Object(_.jsxs)("button",{type:"button",className:"button button--dropdown",onClick:function(){return T("sort")},onBlur:L,children:[Object(_.jsx)("p",{className:"Dropdown__text",children:E()}),Object(_.jsx)("div",{className:C()("Dropdown__icon",{"Dropdown__icon--active":"sort"===y})})]}),Object(_.jsx)("ul",{className:C()("Dropdown__list",{"Dropdown__list--opened":"sort"===y}),children:Object.entries(ge).map((function(e){var c=Object(o.a)(e,2),a=c[0],s=c[1];return Object(_.jsx)("div",{className:"Dropdown__item",children:Object(_.jsx)(n.b,{to:{search:ce(t,{sort:s,page:"1"}).toString()},className:"Dropdown__link",children:a})},s)}))})]})]}),Object(_.jsxs)("div",{className:"Dropdown",children:[Object(_.jsx)("p",{className:"Dropdown__title",children:"Items on page"}),Object(_.jsxs)("div",{className:"Dropdown__content",children:[Object(_.jsxs)("button",{type:"button",className:"button button--dropdown",onClick:function(){return T("perPage")},onBlur:L,children:[Object(_.jsx)("p",{className:"button--dropdown-text",children:S.toString()}),Object(_.jsx)("div",{className:C()("Dropdown__icon",{"Dropdown__icon--active":"perPage"===y})})]}),Object(_.jsx)("ul",{className:C()("Dropdown__list",{"Dropdown__list--opened":"perPage"===y}),children:Ne.map((function(e){return Object(_.jsx)("div",{className:"Dropdown__item",children:Object(_.jsx)(n.b,{to:{search:ce(t,{perPage:e,page:"1"}).toString()},className:"Dropdown__link",children:e})},e)}))})]})]})]}),!N&&!!B.length&&Object(_.jsx)(V,{products:B.slice(I,M)}),A>1&&"All"!==S&&Object(_.jsx)(pe,{pages:A})]})})})},we=function(){var e=Object(n.d)(),t=Object(o.a)(e,1)[0],c=p(),a=c.accessoriesCount,s=c.setErrorMessage,r=c.removeError,j=Object(l.useState)([]),u=Object(o.a)(j,2),b=u[0],h=u[1],x=Object(l.useState)(!1),g=Object(o.a)(x,2),N=g[0],v=g[1],f=Object(l.useState)(null),P=Object(o.a)(f,2),y=P[0],D=P[1],w=+(t.get("page")||1),S=t.get("perPage")||8,k=t.get("sort")||"age",F=t.get("query")||"";Object(l.useEffect)((function(){v(!0),m().then((function(e){return Object(i.a)(e).filter((function(e){return e.category===d.accessory}))})).then(h).catch((function(){s(O.loadingAccessories),r()})).finally((function(){v(!1)}))}),[s,r]);var B=Object(l.useCallback)((function(){var e=Object(i.a)(b);switch(k){case ge.Alphabetically:e=e.sort((function(e,t){return e.name.localeCompare(t.name)}));break;case ge.Cheapest:e=e.sort((function(e,t){return e.price-t.price}));break;case ge.Newest:e=e.sort((function(e,t){return t.year-e.year})).sort((function(e,t){return t.price-e.price}));break;default:return e}return F&&(e=e.filter((function(e){return e.name.toLowerCase().includes(F.toLowerCase())}))),e}),[b,F,k])(),A=Math.ceil(B.length/+S)||1,I=(w-1)*+S,M=w*+S<B.length?w*+S:B.length,T=Object(l.useCallback)((function(e){D(e===y?null:e)}),[y]),L=Object(l.useCallback)((function(){D(null)}),[]),E=Object(l.useCallback)((function(){var e=t.get("sort");return Object.keys(ge).find((function(t){return ge[t]===e}))||"Newest"}),[t]);return Object(_.jsxs)("div",{className:"CategoryPage",children:[Object(_.jsx)("div",{className:"CategoryPage__search",children:Object(_.jsx)(ae,{})}),Object(_.jsx)("div",{className:"container",children:Object(_.jsxs)("div",{className:"CategoryPage__content",children:[Object(_.jsx)(Y,{page:["Accessories"]}),Object(_.jsxs)("div",{className:"CategoryPage__main-info",children:[Object(_.jsx)("h1",{className:"CategoryPage__title",children:"Accessories"}),Object(_.jsx)("span",{className:"CategoryPage__models-count",children:F?"".concat(B.length," result").concat(1===B.length?"":"s"):"".concat(a)})]}),N&&Object(_.jsx)(ne,{}),!b.length&&!N&&Object(_.jsx)(fe,{category:"Accessories"}),!B.length&&!N&&!!F&&Object(_.jsx)(Z,{}),!!B.length&&Object(_.jsxs)("div",{className:"CategoryPage__dropdowns",children:[Object(_.jsxs)("div",{className:"Dropdown",children:[Object(_.jsx)("p",{className:"Dropdown__title",children:"Sort by"}),Object(_.jsxs)("div",{className:"Dropdown__content",children:[Object(_.jsxs)("button",{type:"button",className:"button button--dropdown",onClick:function(){return T("sort")},onBlur:L,children:[Object(_.jsx)("p",{className:"Dropdown__text",children:E()}),Object(_.jsx)("div",{className:C()("Dropdown__icon",{"Dropdown__icon--active":"sort"===y})})]}),Object(_.jsx)("ul",{className:C()("Dropdown__list",{"Dropdown__list--opened":"sort"===y}),children:Object.entries(ge).map((function(e){var c=Object(o.a)(e,2),a=c[0],s=c[1];return Object(_.jsx)("div",{className:"Dropdown__item",children:Object(_.jsx)(n.b,{to:{search:ce(t,{sort:s,page:"1"}).toString()},className:"Dropdown__link",children:a})},s)}))})]})]}),Object(_.jsxs)("div",{className:"Dropdown",children:[Object(_.jsx)("p",{className:"Dropdown__title",children:"Items on page"}),Object(_.jsxs)("div",{className:"Dropdown__content",children:[Object(_.jsxs)("button",{type:"button",className:"button button--dropdown",onClick:function(){return T("perPage")},onBlur:L,children:[Object(_.jsx)("p",{className:"button--dropdown-text",children:S.toString()}),Object(_.jsx)("div",{className:C()("Dropdown__icon",{"Dropdown__icon--active":"perPage"===y})})]}),Object(_.jsx)("ul",{className:C()("Dropdown__list",{"Dropdown__list--opened":"perPage"===y}),children:Ne.map((function(e){return Object(_.jsx)("div",{className:"Dropdown__item",children:Object(_.jsx)(n.b,{to:{search:ce(t,{perPage:e,page:"1"}).toString()},className:"Dropdown__link",children:e})},e)}))})]})]})]}),!N&&!!B.length&&Object(_.jsx)(V,{products:B.slice(I,M)}),A>1&&"All"!==S&&Object(_.jsx)(pe,{pages:A})]})})]})},Se=(c(59),function(){return Object(_.jsx)("div",{className:"NotFoundPage",children:Object(_.jsx)("div",{className:"container",children:Object(_.jsxs)("div",{className:"NotFoundPage__content",children:[Object(_.jsx)("h1",{className:"NotFoundPage__title",children:"Oops, page not found."}),Object(_.jsx)(n.b,{to:"/",className:"NotFoundPage__link",children:"Return to Home Page"})]})})})}),ke=function(){return Object(_.jsx)(x,{children:Object(_.jsx)(P,{children:Object(_.jsx)(v,{children:Object(_.jsx)(n.a,{children:Object(_.jsx)(r.e,{children:Object(_.jsxs)(r.c,{path:"/",element:Object(_.jsx)(Q,{}),children:[Object(_.jsx)(r.c,{index:!0,element:Object(_.jsx)(he,{})}),Object(_.jsx)(r.c,{path:"home",element:Object(_.jsx)(r.a,{to:"/"})}),Object(_.jsxs)(r.c,{path:"phones",children:[Object(_.jsx)(r.c,{index:!0,element:Object(_.jsx)(Pe,{})}),Object(_.jsx)(r.c,{path:":productId",element:Object(_.jsx)(Ce,{})})]}),Object(_.jsxs)(r.c,{path:"tablets",children:[Object(_.jsx)(r.c,{index:!0,element:Object(_.jsx)(De,{})}),Object(_.jsx)(r.c,{path:":productId",element:Object(_.jsx)(Ce,{})})]}),Object(_.jsxs)(r.c,{path:"accessories",children:[Object(_.jsx)(r.c,{index:!0,element:Object(_.jsx)(we,{})}),Object(_.jsx)(r.c,{path:":productId",element:Object(_.jsx)(Ce,{})})]}),Object(_.jsx)(r.c,{path:"favorites",element:Object(_.jsx)(se,{})}),Object(_.jsx)(r.c,{path:"cart",element:Object(_.jsx)(W,{})}),Object(_.jsx)(r.c,{path:"*",element:Object(_.jsx)(Se,{})})]})})})})})})};s.a.render(Object(_.jsx)(ke,{}),document.getElementById("root"))}]),[[60,1,2]]]);
//# sourceMappingURL=main.9ad22bd5.chunk.js.map