(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],Array(32).concat([function(e,t,c){},function(e,t,c){},function(e,t,c){},,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var a=c(25),s=c.n(a),n=c(1),r=c.n(n),o=c(6),i=c(3),l=c(7),j=c(4),d=function(e){return e.phone="phones",e.tablet="tablets",e.accessory="accessories",e}({}),u="https://mate-academy.github.io/react_phone-catalog/_new";var b=function(e){return function(e){return fetch(u+e).then((function(e){return e.json()}))}(e)},h=function(){return b("/products.json")},m=c(0),O=r.a.createContext({products:[],phonesCount:"",tabletsCount:"",accessoriesCount:"",brandNewProducts:[],hotPriceProducts:[],isLoading:!1,getCategoryItems:function(){return[]}}),_=function(e){var t=e.children,c=Object(n.useState)([]),a=Object(j.a)(c,2),s=a[0],r=a[1],o=Object(n.useState)(!1),i=Object(j.a)(o,2),u=i[0],b=i[1];Object(n.useEffect)((function(){b(!0),h().then(r).catch((function(){})).finally((function(){b(!1)}))}),[]);var _=Object(l.a)(s).sort((function(e,t){return t.year-e.year})).sort((function(e,t){return t.price-e.price})),p=Object(l.a)(s).sort((function(e,t){var c=e.fullPrice-e.price;return t.fullPrice-t.price-c})),x=Object(n.useCallback)((function(e){return Object(l.a)(s).filter((function(t){return t.category===e}))}),[s]),g=Object(n.useCallback)((function(e){var t=x(e);return 1===t.length?"".concat(t.length," model"):"".concat(t.length," models")}),[x]),N=g(d.phone),f=g(d.tablet),v=g(d.accessory),y={products:s,phonesCount:N,tabletsCount:f,accessoriesCount:v,brandNewProducts:_,isLoading:u,hotPriceProducts:p,getCategoryItems:x};return Object(m.jsx)(O.Provider,{value:y,children:t})},p=c(9),x=c.n(p),g=(c(32),function(){return Object(m.jsx)(o.c,{to:"/",className:"Logo icon"})}),N=(c(33),function(e){var t=e.isActive;return x()("Navbar__item",{"Navbar__item--active":t})}),f=function(){return Object(m.jsx)("nav",{className:"Navbar",children:Object(m.jsxs)("ul",{className:"Navbar__list",children:[Object(m.jsx)("li",{children:Object(m.jsx)(o.c,{to:"/",className:N,children:"Home"})}),Object(m.jsx)("li",{children:Object(m.jsx)(o.c,{to:"/phones",className:N,children:"Phones"})}),Object(m.jsx)("li",{children:Object(m.jsx)(o.c,{to:"/tablets",className:N,children:"Tablets"})}),Object(m.jsx)("li",{children:Object(m.jsx)(o.c,{to:"/accessories",className:N,children:"Accessories"})})]})})},v=(c(34),c(26));function y(e,t){var c=new URLSearchParams(e.toString());return Object.entries(t).forEach((function(e){var t=Object(j.a)(e,2),a=t[0],s=t[1];null===s?c.delete(a):Array.isArray(s)?(c.delete(a),s.forEach((function(e){c.append(a,e)}))):c.set(a,s)})),c.toString()}c(37);var C=function(){var e=Object(o.d)(),t=Object(j.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(c.get("query")||""),r=Object(j.a)(s,2),l=r[0],d=r[1],u=Object(i.o)().pathname;Object(n.useEffect)((function(){var e=c.get("query")||"";d(e),a(y(c,{query:e||null}))}),[u,c,a]);var b=Object(n.useMemo)((function(){return Object(v.debounce)(a,1e3)}),[a]),h=function(){d(""),b(y(c,{query:null}))},O=function(e){e.target.value?(d(e.target.value),b(y(c,{query:e.target.value,page:"1"}))):h()};return Object(m.jsxs)("div",{className:"Search",children:[Object(m.jsx)("input",{type:"text",className:"Search__input",placeholder:"Search in ".concat(u.slice(1),"..."),value:l,onChange:O,onBlur:O}),l?Object(m.jsx)("button",{type:"button","data-cy":"searchDelete","aria-label":"Delete query",className:"Search__clear",onClick:h}):Object(m.jsx)("div",{className:"Search__icon"})]})},P=function(){var e=Object(i.o)().pathname;return Object(m.jsx)("div",{className:"Header",children:Object(m.jsxs)("div",{className:"Header__content",children:[Object(m.jsxs)("div",{className:"Header__logo-and-nav",children:[Object(m.jsx)(g,{}),Object(m.jsx)(f,{})]}),Object(m.jsxs)("div",{className:"Header__fav-and-cart",children:[("/phones"===e||"/tablets"===e||"/accessories"===e||"/favorites"===e)&&Object(m.jsx)(C,{}),Object(m.jsx)(o.c,{to:"/favorites",className:function(e){var t=e.isActive;return x()("icon icon--fav",{"icon--active":t})}}),Object(m.jsx)(o.c,{to:"/cart",className:function(e){var t=e.isActive;return x()("icon icon--cart",{"icon--active":t})}})]})]})})},S=(c(38),function(){return window.scrollTo({top:0,behavior:"smooth"})}),w=function(){return Object(m.jsx)("div",{className:"Footer",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"Footer__content",children:[Object(m.jsx)(g,{}),Object(m.jsx)("nav",{className:"Footer__nav",children:Object(m.jsxs)("ul",{className:"Footer__nav-list",children:[Object(m.jsx)("li",{className:"Footer__nav-item",children:Object(m.jsx)("a",{href:"https://github.com",target:"_blank",rel:"noreferrer noopener",className:"Footer__nav-link",children:"Github"})}),Object(m.jsx)("li",{className:"Footer__nav-item",children:Object(m.jsx)(o.b,{to:"/contacts",className:"Footer__nav-link",children:"Contacts"})}),Object(m.jsx)("li",{className:"Footer__nav-item",children:Object(m.jsx)(o.b,{to:"/rigths",className:"Footer__nav-link",children:"Rights"})})]})}),Object(m.jsxs)("div",{className:"Footer__button",children:[Object(m.jsx)("p",{className:"Footer__button-text",children:"Back to top"}),Object(m.jsx)("button",{type:"button",className:"button button--back-to-top",onClick:S,"aria-label":"Back to top"})]})]})})})},k=(c(39),function(){return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(P,{}),Object(m.jsx)("div",{className:"App__main",children:Object(m.jsx)(i.b,{})}),Object(m.jsx)(w,{})]})}),B=(c(40),function(){return Object(m.jsx)("div",{className:"Loader","data-cy":"Loader",children:Object(m.jsx)("div",{className:"Loader__content"})})}),D=(c(41),[{url:c.p+"static/media/phones.3fb173f0.png",alt:"phones"},{url:c.p+"static/media/tablets.a962057c.png",alt:"tablets"},{url:c.p+"static/media/accessories.bdd2e0fc.png",alt:"accessories"}]),A=1040,L=function(){var e=Object(n.useState)(0),t=Object(j.a)(e,2),c=t[0],a=t[1],s=D.length-1,r=c*A,i=Object(n.useCallback)((function(){a(c===s?0:function(e){return e+1})}),[c,s]);return Object(n.useEffect)((function(){var e=setInterval(i,5e3);return function(){return clearInterval(e)}}),[c,i]),Object(m.jsx)("div",{className:"Slider",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"Slider__content",children:[Object(m.jsxs)("div",{className:"Slider__main",children:[Object(m.jsx)("button",{type:"button","aria-label":"Previous",className:"button button--slider button--slider-back",onClick:function(){a(0===c?s:function(e){return e-1})}}),Object(m.jsx)("ul",{className:"Slider__list",style:{width:A},children:D.map((function(e){return Object(m.jsx)("li",{style:{transform:"translateX(-".concat(r,"px)"),transition:"transform ".concat(1500,"ms ease")},children:Object(m.jsx)(o.b,{to:"/".concat(e.alt),children:Object(m.jsx)("img",{src:e.url,alt:e.alt,width:A})})},e.url)}))}),Object(m.jsx)("button",{type:"button","aria-label":"Next",className:"button button--slider button--slider-forward",onClick:i})]}),Object(m.jsx)("div",{className:"Slider__dots",children:D.map((function(e,t){return Object(m.jsx)("div",{className:x()("Slider__dot",{"Slider__dot--active":t===c})},e.url)}))})]})})})},F=(c(42),function(e){var t=e.product,c=t.image,a=t.name,s=t.category,n=t.itemId,r=t.price,i=t.fullPrice,l=t.screen,j=t.capacity,d=t.ram;return Object(m.jsx)(o.b,{to:"".concat(s,"/").concat(n),className:"ProductCard",children:Object(m.jsxs)("div",{className:"ProductCard__content",children:[Object(m.jsx)("div",{className:"ProductCard__image-container",children:Object(m.jsx)("img",{src:"".concat(u,"/").concat(c),alt:a,className:"ProductCard__image"})}),Object(m.jsxs)("div",{className:"ProductCard__info",children:[Object(m.jsx)("h2",{className:"ProductCard__name",children:a}),Object(m.jsxs)("div",{className:"ProductCard__prices",children:[Object(m.jsxs)("span",{className:"ProductCard__new-price",children:["$",r]}),Object(m.jsxs)("span",{className:"ProductCard__full-price",children:["$",i]})]}),Object(m.jsx)("div",{className:"ProductCard__line"})]}),Object(m.jsxs)("ul",{className:"ProductCard__features",children:[Object(m.jsxs)("li",{className:"ProductCard__feature",children:[Object(m.jsx)("span",{className:"ProductCard__feature-name",children:"Screen"}),Object(m.jsx)("span",{className:"ProductCard__feature-value",children:l})]}),Object(m.jsxs)("li",{className:"ProductCard__feature",children:[Object(m.jsx)("span",{className:"ProductCard__feature-name",children:"Capacity"}),Object(m.jsx)("span",{className:"ProductCard__feature-value",children:j})]}),Object(m.jsxs)("li",{className:"ProductCard__feature",children:[Object(m.jsx)("span",{className:"ProductCard__feature-name",children:"RAM"}),Object(m.jsx)("span",{className:"ProductCard__feature-value",children:d})]})]}),Object(m.jsxs)("div",{className:"ProductCard__buttons",children:[Object(m.jsx)("button",{type:"button",className:"ProductCard__add-to-card",children:"Add to card"}),Object(m.jsx)("button",{type:"button","aria-label":"Like",className:"button button--like"})]})]})})}),H=(c(43),function(e){var t=e.title,c=e.products,a=Object(n.useState)(0),s=Object(j.a)(a,2),r=s[0],o=s[1],i=288*r,l=c.length-1;return Object(m.jsxs)("div",{className:"ProductsSlider",children:[Object(m.jsxs)("div",{className:"ProductsSlider__title-and-buttons",children:[Object(m.jsx)("h2",{className:"ProductsSlider__title",children:t}),Object(m.jsxs)("div",{className:"ProductsSlider__buttons",children:[Object(m.jsx)("button",{type:"button","aria-label":"Previous products",className:"button button--prev",disabled:0===r,onClick:function(){var e=r-2;o(e<0?0:e)}}),Object(m.jsx)("button",{type:"button","aria-label":"Next products",className:"button button--next",onClick:function(){o(r===l?0:function(e){return e+2})}})]})]}),Object(m.jsx)("div",{className:"ProductsSlider__cards-container","data-cy":"cardsContainer",children:c.map((function(e){return Object(m.jsx)("div",{style:{width:1136,transform:"translateX(-".concat(i,"px)"),transition:"transform ".concat(1e3,"ms ease")},children:Object(m.jsx)(F,{product:e})},e.id)}))})]})}),q=function(){var e=Object(n.useContext)(O).hotPriceProducts;return Object(m.jsx)("div",{className:"HotPrices",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsx)(H,{title:"Hot prices",products:e})})})},E=(c(44),c.p+"static/media/phones.cbed3047.png"),I=c.p+"static/media/tablets.c198526a.png",R=c.p+"static/media/accessories.b914f412.png",M=function(){var e=Object(n.useContext)(O),t=e.phonesCount,c=e.tabletsCount,a=e.accessoriesCount;return Object(m.jsx)("div",{className:"ShopByCategory",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"ShopByCategory__content",children:[Object(m.jsx)("h2",{className:"ShopByCategory__title",children:"Shop by category"}),Object(m.jsxs)("div",{className:"ShopByCategory__categories","data-cy":"categoryLinksContainer",children:[Object(m.jsx)("div",{className:"ShopByCategory__category",children:Object(m.jsxs)(o.b,{to:"/phones",className:"ShopByCategory__category-content",children:[Object(m.jsx)("img",{src:E,alt:"Mobile Phones",className:"ShopByCategory__category-image"}),Object(m.jsxs)("div",{className:"ShopByCategory__category-info",children:[Object(m.jsx)("h3",{className:"ShopByCategory__category-title",children:"Mobile phones"}),Object(m.jsx)("div",{className:"ShopByCategory__category-count",children:t})]})]})}),Object(m.jsx)("div",{className:"ShopByCategory__category",children:Object(m.jsxs)(o.b,{to:"/tablets",className:"ShopByCategory__category-content",children:[Object(m.jsx)("img",{src:I,alt:"Tablets",className:"ShopByCategory__category-image"}),Object(m.jsxs)("div",{className:"ShopByCategory__category-info",children:[Object(m.jsx)("h3",{className:"ShopByCategory__category-title",children:"Tablets"}),Object(m.jsx)("div",{className:"ShopByCategory__category-count",children:c})]})]})}),Object(m.jsx)("div",{className:"ShopByCategory__category",children:Object(m.jsxs)(o.b,{to:"/accessories",className:"ShopByCategory__category-content",children:[Object(m.jsx)("img",{src:R,alt:"Accessories",className:"ShopByCategory__category-image"}),Object(m.jsxs)("div",{className:"ShopByCategory__category-info",children:[Object(m.jsx)("h3",{className:"ShopByCategory__category-title",children:"Accessories"}),Object(m.jsx)("div",{className:"ShopByCategory__category-count",children:a})]})]})})]})]})})})},T=function(){var e=Object(n.useContext)(O).brandNewProducts;return Object(m.jsx)("div",{className:"BrandNew",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsx)(H,{title:"Brand new models",products:e})})})},J=function(){var e=Object(n.useContext)(O).isLoading;return Object(m.jsxs)(m.Fragment,{children:[e&&Object(m.jsx)(B,{}),Object(m.jsx)(L,{}),Object(m.jsx)(q,{}),Object(m.jsx)(M,{}),Object(m.jsx)(T,{})]})},X=c.p+"static/media/Home.d4c29e4f.svg",$=(c(45),function(){return Object(m.jsxs)("div",{className:"Breadcrumbs",children:[Object(m.jsx)(o.b,{to:"/",className:"Breadcrumbs__home",children:Object(m.jsx)("img",{src:X,alt:"Home",className:"Breadcrumbs__home-img"})}),Object(m.jsx)("div",{className:"Breadcrumbs__arrow"}),Object(m.jsx)("p",{className:"Breadcrumbs__page-title",children:"Phones"})]})});c(46);var G=function(e){var t=e.pages,c=Object(o.d)(),a=Object(j.a)(c,2),s=a[0],n=a[1],r=+(s.get("page")||1),i=function(e){for(var t=[],c=1;c<=e;c+=1)t.push(c);return t}(t);return Object(m.jsxs)("div",{className:"Pagination","data-cy":"pagination",children:[Object(m.jsx)("button",{type:"button","data-cy":"paginationLeft","aria-label":"Prev page",className:"button button--prev",disabled:1===r,onClick:function(){var e=+(s.get("page")||1);n(y(s,{page:(e-1).toString()}))}}),Object(m.jsx)("ul",{className:"Pagination__list",children:i.map((function(e){return Object(m.jsx)(o.b,{to:{search:y(s,{page:e.toString()}).toString()},className:x()("Pagination__link",{"Pagination__link--active":r===e}),children:Object(m.jsx)("li",{className:x()("Pagination__item button",{"Pagination__item--active":r===e}),children:e})},e)}))}),Object(m.jsx)("button",{type:"button","aria-label":"Next page","data-cy":"paginationRight",className:"button button--next",disabled:r===i.length,onClick:function(){var e=+(s.get("page")||1);n(y(s,{page:(e+1).toString()}))}})]})},U=(c(47),function(e){var t=e.products;return Object(m.jsx)("div",{className:"ProductsList","data-cy":"productList",children:t.map((function(e){return Object(m.jsx)(F,{product:e},e.id)}))})}),z=c.p+"static/media/Search.eb670dd9.svg",K=(c(48),function(){return Object(m.jsxs)("section",{className:"NoSearchResults",children:[Object(m.jsx)("img",{src:z,alt:"Search",className:"NoSearchResults__image"}),Object(m.jsx)("h2",{className:"NoSearchResults__title",children:"Oops, no results found"})]})}),Q=(c(49),{Newest:"age",Alphabetically:"name",Cheapest:"price"}),V=["4","8","16","All"],W=function(){var e=Object(o.d)(),t=Object(j.a)(e,1)[0],c=Object(n.useContext)(O).phonesCount,a=Object(n.useState)([]),s=Object(j.a)(a,2),r=s[0],i=s[1],u=Object(n.useState)(!1),b=Object(j.a)(u,2),_=b[0],p=b[1],g=Object(n.useState)(null),N=Object(j.a)(g,2),f=N[0],v=N[1],C=+(t.get("page")||1),P=t.get("perPage")||8,S=t.get("sort")||"age",w=t.get("query")||"";Object(n.useEffect)((function(){p(!0),h().then((function(e){return Object(l.a)(e).filter((function(e){return e.category===d.phone}))})).then(i).catch((function(){})).finally((function(){p(!1)}))}),[]);var k=Object(n.useCallback)((function(){var e=Object(l.a)(r);switch(S){case Q.Alphabetically:e=e.sort((function(e,t){return e.name.localeCompare(t.name)}));break;case Q.Cheapest:e=e.sort((function(e,t){return e.price-t.price}));break;case Q.Newest:e=e.sort((function(e,t){return t.year-e.year})).sort((function(e,t){return t.price-e.price}));break;default:return e}return w&&(e=e.filter((function(e){return e.name.toLowerCase().includes(w.toLowerCase())}))),e}),[r,w,S])(),D=Math.ceil(k.length/+P)||1,A=(C-1)*+P,L=C*+P<k.length?C*+P:k.length,F=function(e){v(e===f?null:e)},H=function(){v(null)};return Object(m.jsx)("div",{className:"PhonesPage",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"PhonesPage__content",children:[Object(m.jsx)($,{}),Object(m.jsxs)("div",{className:"PhonesPage__main-info",children:[Object(m.jsx)("h2",{className:"PhonesPage__title",children:"Mobile phones"}),Object(m.jsx)("p",{className:"PhonesPage__models-count",children:w?"".concat(k.length," result").concat(1===k.length?"":"s"):"".concat(c)})]}),_&&Object(m.jsx)(B,{}),!k.length&&!_&&Object(m.jsx)(K,{}),!!k.length&&Object(m.jsxs)("div",{className:"PhonesPage__dropdowns",children:[Object(m.jsxs)("div",{className:"Dropdown",children:[Object(m.jsx)("p",{className:"Dropdown__title",children:"Sort by"}),Object(m.jsxs)("div",{className:"Dropdown__content",children:[Object(m.jsxs)("button",{type:"button",className:"button button--dropdown",onClick:function(){return F("sort")},onBlur:H,children:[Object(m.jsx)("p",{className:"Dropdown__text",children:function(){var e=t.get("sort");return Object.keys(Q).find((function(t){return Q[t]===e}))||"Newest"}()}),Object(m.jsx)("div",{className:x()("Dropdown__icon",{"Dropdown__icon--active":"sort"===f})})]}),Object(m.jsx)("ul",{className:x()("Dropdown__list",{"Dropdown__list--opened":"sort"===f}),children:Object.entries(Q).map((function(e){var c=Object(j.a)(e,2),a=c[0],s=c[1];return Object(m.jsx)("div",{className:"Dropdown__item",children:Object(m.jsx)(o.b,{to:{search:y(t,{sort:s,page:"1"}).toString()},className:"Dropdown__link",children:a})},s)}))})]})]}),Object(m.jsxs)("div",{className:"Dropdown",children:[Object(m.jsx)("p",{className:"Dropdown__title",children:"Items on page"}),Object(m.jsxs)("div",{className:"Dropdown__content",children:[Object(m.jsxs)("button",{type:"button",className:"button button--dropdown",onClick:function(){return F("perPage")},onBlur:H,children:[Object(m.jsx)("p",{className:"button--dropdown-text",children:P.toString()}),Object(m.jsx)("div",{className:x()("Dropdown__icon",{"Dropdown__icon--active":"perPage"===f})})]}),Object(m.jsx)("ul",{className:x()("Dropdown__list",{"Dropdown__list--opened":"perPage"===f}),children:V.map((function(e){return Object(m.jsx)("div",{className:"Dropdown__item",children:Object(m.jsx)(o.b,{to:{search:y(t,{perPage:e,page:"1"}).toString()},className:"Dropdown__link",children:e})},e)}))})]})]})]}),!_&&!!k.length&&Object(m.jsx)(U,{products:k.slice(A,L)}),D>1&&"All"!==P&&Object(m.jsx)(G,{pages:D})]})})})},Y=function(){return Object(m.jsx)(_,{children:Object(m.jsx)(o.a,{children:Object(m.jsx)(i.e,{children:Object(m.jsxs)(i.c,{path:"/",element:Object(m.jsx)(k,{}),children:[Object(m.jsx)(i.c,{index:!0,element:Object(m.jsx)(J,{})}),Object(m.jsx)(i.c,{path:"home",element:Object(m.jsx)(i.a,{to:"/"})}),Object(m.jsx)(i.c,{path:"/phones",element:Object(m.jsx)(W,{})})]})})})})};c(50);s.a.render(Object(m.jsx)(Y,{}),document.getElementById("root"))}]),[[51,1,2]]]);
//# sourceMappingURL=main.8f12985d.chunk.js.map